{"version":3,"sources":["../../core/module.js"],"names":["DataBase","mysql","require","connection","createConnection","host","user","password","port","database","connect","err","console","log","query","rows","fields","solution","end"],"mappings":";;;;;;;;;;IAAqBA,Q;;AAEjB;;;AAGA,wBAAa;AAAA;;AACT;AACA,YAAIC,QAASC,QAAQ,OAAR,CAAb,CAFS,CAEuB;AAChC;AACA,aAAKC,UAAL,GAAkBF,MAAMG,gBAAN,CAAuB;AACrCC,kBAAM,WAD+B,EACZ;AACzBC,kBAAM,MAF+B,EAET;AAC5BC,sBAAU,MAH2B,EAGZ;AACzBC,kBAAM,MAJ+B,EAIL;AAChCC,sBAAU;AAL2B,SAAvB,CAAlB;;AAQA,aAAKC,OAAL;AACH;;AAED;;;;;;;kCAGU;AACN;AACA,iBAAKP,UAAL,CAAgBO,OAAhB,CAAwB,UAASC,GAAT,EAAa;AACjC,oBAAGA,GAAH,EAAO;AACHC,4BAAQC,GAAR,CAAY,gBAAcF,GAA1B;AACA;AACH;AACDC,wBAAQC,GAAR,CAAY,gCAAZ;AACH,aAND;AAOH;;;+BAEK;AACF;AACA,iBAAKV,UAAL,CAAgBW,KAAhB,CAAsB,0BAAtB,EAAkD,UAAUH,GAAV,EAAeI,IAAf,EAAqBC,MAArB,EAA6B;AAC3E,oBAAIL,GAAJ,EAAS;AACLC,4BAAQC,GAAR,CAAY,gBAAgBF,GAA5B;AACA;AACH;AACDC,wBAAQC,GAAR,CAAY,mBAAZ,EAAiCE,KAAK,CAAL,EAAQE,QAAzC;AACH,aAND;AAOH;;AAED;;;;;;gCAGO;AACH;AACA,iBAAKd,UAAL,CAAgBe,GAAhB,CAAoB,UAASP,GAAT,EAAa;AAC7B,oBAAGA,GAAH,EAAO;AACH;AACH;AACDC,wBAAQC,GAAR,CAAY,2BAAZ;AACH,aALD;AAMH;;;;;;kBAxDgBb,Q","file":"module.js","sourcesContent":["export default class DataBase{\r\n\r\n    /**\r\n     * 构造函数中引用mysql模块，并且创建连接\r\n     */\r\n    constructor(){\r\n        //测试mysql\r\n        var mysql  = require('mysql');  //调用MySQL模块\r\n        //创建一个connection\r\n        this.connection = mysql.createConnection({\r\n            host: '127.0.0.1',       //主机\r\n            user: 'root',               //MySQL认证用户名\r\n            password: 'root',        //MySQL认证用户密码\r\n            port: '3306',                   //端口号\r\n            database: 'keep2iron'\r\n        });\r\n\r\n        this.connect();\r\n    }\r\n\r\n    /**\r\n     * 连接mysql\r\n     */\r\n    connect() {\r\n        //创建一个connection\r\n        this.connection.connect(function(err){\r\n            if(err){\r\n                console.log('[query] - :'+err);\r\n                return;\r\n            }\r\n            console.log('[connection connect]  succeed!');\r\n        });\r\n    }\r\n\r\n    test(){\r\n        //执行SQL语句\r\n        this.connection.query('SELECT 1 + 1 AS solution', function (err, rows, fields) {\r\n            if (err) {\r\n                console.log('[query] - :' + err);\r\n                return;\r\n            }\r\n            console.log('The solution is: ', rows[0].solution);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 执行关闭当前连接对象\r\n     */\r\n    close(){\r\n        //关闭connection\r\n        this.connection.end(function(err){\r\n            if(err){\r\n                return;\r\n            }\r\n            console.log('[connection end] succeed!');\r\n        });\r\n    }\r\n}"]}